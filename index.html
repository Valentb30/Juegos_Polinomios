<!DOCTYPE html>
<html lang="es">  
<head>  
  <meta charset="UTF-8">  
  <title>Juego de Polinomios</title>  
  <style>  
    body {  
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;  
      background: linear-gradient(to right, #eef2f3, #8e9eab);  
      margin: 0;  
      padding: 40px;  
      display: flex;  
      justify-content: center;  
      align-items: center;  
      min-height: 100vh;  
      flex-direction: column;  
    }  
    .container {  
      background-color: #ffffff;  
      padding: 30px 40px;  
      border-radius: 15px;  
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);  
      max-width: 600px;  
      width: 100%;  
      margin-bottom: 20px;  
    }  
    h2 {  
      text-align: center;  
      color: #333;  
      margin-bottom: 15px;  
    }  
    #timer, #jugador-nombre {  
      text-align: center;  
      font-size: 1.2rem;  
      color: #555;  
      margin-bottom: 10px;  
    }  
    #pregunta {  
      font-size: 1.2rem;  
      font-weight: bold;  
      margin-bottom: 20px;  
      color: #444;  
    }  
    .opcion {  
      background-color: #f8f9fa;  
      border: 2px solid #dee2e6;  
      border-radius: 10px;  
      padding: 12px;  
      margin-bottom: 15px;  
      cursor: pointer;  
      transition: all 0.3s ease;  
      font-size: 1rem;  
    }  
    .opcion:hover {  
      background-color: #e2e6ea;  
    }  
    .correcta {  
      background-color: #d4edda !important;  
      border-color: #28a745;  
      color: #155724;  
    }  
    .incorrecta {  
      background-color: #f8d7da !important;  
      border-color: #dc3545;  
      color: #721c24;  
    }  
    button {  
      display: block;  
      width: 100%;  
      padding: 12px;  
      margin-top: 20px;  
      font-size: 1rem;  
      background-color: #007bff;  
      color: white;  
      border: none;  
      border-radius: 8px;  
      cursor: pointer;  
      transition: background 0.3s ease;  
    }  
    button:hover {  
      background-color: #0056b3;  
    }  
    #finalizar {  
      display: none;  
      background-color: #28a745;  
    }  
    #login-container input {  
      width: 100%;  
      padding: 10px;  
      margin: 15px 0;  
      font-size: 1rem;  
    }  
    table {  
      width: 100%;  
      border-collapse: collapse;  
    }  
    th, td {  
      border: 1px solid #ccc;  
      padding: 10px;  
    }  
    th {  
      background-color: #f0f0f0;  
    }  
  </style>  
</head>  
<body>  
  <div class="container" id="login-container">  
    <h2>Bienvenido al Juego de Polinomios</h2>  
    <input type="text" id="username" placeholder="Ingresa tu nombre">  
    <button onclick="iniciarJuego()">Iniciar Juego</button>  
  </div>  
  <div class="container" id="juego-container" style="display:none;">  
    <h2>Juego de Polinomios</h2>  
    <div id="jugador-nombre"></div>  
    <div id="timer">Tiempo: 2:00</div>  
    <div id="pregunta"></div>  
    <div id="opciones"></div>  
    <button id="siguiente" onclick="generarPregunta()" style="display:none;">Siguiente Pregunta</button>  
    <button id="finalizar" onclick="finalizarJuego()">Finalizar Juego</button>  
  </div>  
  <div class="container" id="resultados-container">  
    <h2>Resultados del Juego</h2>  
    <table id="tabla-resultados">  
      <thead>  
        <tr>  
          <th>Jugador</th>  
          <th>Correctas</th>  
          <th>Total</th>  
        </tr>  
      </thead>  
      <tbody></tbody>  
    </table>  
  </div>  
  <script>
    let jugadorActual = '';  
    let tiempoRestante = 120;  
    let intervalo;  
    let respuestaRespondida = false;  
    let respuestasCorrectas = 0;  
    let preguntasRespondidas = 0;  
    const totalPreguntas = 5;

    const preguntas = [
      {
        pregunta: "¿Cuál es el grado del polinomio 3x² + 2x - 5?",
        opciones: ["1", "2", "3", "0"],
        respuesta: "2"
      },
      {
        pregunta: "¿Cuál es el coeficiente principal de 4x³ - x + 7?",
        opciones: ["-1", "4", "7", "3"],
        respuesta: "4"
      },
      {
        pregunta: "¿Qué es un monomio?",
        opciones: [
          "Un polinomio de grado 2",
          "Una expresión con una sola variable",
          "Una expresión con un solo término",
          "Una suma de polinomios"
        ],
        respuesta: "Una expresión con un solo término"
      },
      {
        pregunta: "¿Cuál es el resultado de sumar (2x + 3) + (4x - 1)?",
        opciones: ["6x + 2", "6x + 4", "2x + 2", "4x + 2"],
        respuesta: "6x + 2"
      },
      {
        pregunta: "¿Qué término tiene mayor grado en 7x^4 + 5x² - 3?",
        opciones: ["5x²", "7x^4", "-3", "x"],
        respuesta: "7x^4"
      }
    ];

    let preguntasDisponibles = [...preguntas];

    function iniciarJuego() {
      const nombre = document.getElementById('username').value.trim();
      if (nombre === '') {
        alert('Por favor ingresa un nombre.');
        return;
      }
      jugadorActual = nombre;
      document.getElementById('jugador-nombre').textContent = `Jugador: ${jugadorActual}`;
      document.getElementById('login-container').style.display = 'none';
      document.getElementById('juego-container').style.display = 'block';
      preguntasDisponibles = [...preguntas].sort(() => Math.random() - 0.5); // aleatorizar
      generarPregunta();
    }

    function iniciarTemporizador() {
      clearInterval(intervalo);
      tiempoRestante = 120;
      const timer = document.getElementById('timer');
      timer.textContent = 'Tiempo: 2:00';
      intervalo = setInterval(() => {
        if (!respuestaRespondida) {
          tiempoRestante--;
          const minutos = Math.floor(tiempoRestante / 60);
          const segundos = tiempoRestante % 60;
          timer.textContent = `Tiempo: ${minutos}:${segundos.toString().padStart(2, '0')}`;
          if (tiempoRestante <= 0) {
            clearInterval(intervalo);
            alert("¡Tiempo terminado!");
            generarPregunta();
          }
        }
      }, 1000);
    }

    function generarPregunta() {
      if (preguntasRespondidas >= totalPreguntas || preguntasDisponibles.length === 0) {
        finalizarJuego();
        return;
      }
      iniciarTemporizador();
      const preguntaActual = preguntasDisponibles[preguntasRespondidas];
      const contenedorPregunta = document.getElementById("pregunta");
      const contenedorOpciones = document.getElementById("opciones");

      contenedorPregunta.textContent = preguntaActual.pregunta;
      contenedorOpciones.innerHTML = "";

      preguntaActual.opciones.forEach(opcion => {
        const div = document.createElement("div");
        div.textContent = opcion;
        div.className = "opcion";
        div.onclick = () => {
          respuestaRespondida = true;
          if (opcion === preguntaActual.respuesta) {
            div.classList.add("correcta");
            respuestasCorrectas++;
          } else {
            div.classList.add("incorrecta");
          }
          preguntasRespondidas++;
          document.getElementById("siguiente").style.display = "block";
          if (preguntasRespondidas === totalPreguntas) {
            document.getElementById("siguiente").style.display = "none";
            document.getElementById("finalizar").style.display = "block";
          }
        };
        contenedorOpciones.appendChild(div);
      });

      respuestaRespondida = false;
      document.getElementById("siguiente").style.display = "none";
    }

    function finalizarJuego() {
      clearInterval(intervalo);
      const tabla = document.getElementById('tabla-resultados').querySelector('tbody');
      const fila = document.createElement('tr');
      fila.innerHTML = `<td>${jugadorActual}</td><td>${respuestasCorrectas}</td><td>${totalPreguntas}</td>`;
      tabla.appendChild(fila);

      jugadorActual = '';
      respuestasCorrectas = 0;
      preguntasRespondidas = 0;
      document.getElementById('username').value = '';

      document.getElementById('juego-container').style.display = 'none';
      document.getElementById('login-container').style.display = 'block';
      document.getElementById('finalizar').style.display = 'none';
      document.getElementById('siguiente').style.display = 'none';
      document.getElementById('timer').textContent = 'Tiempo: 2:00';
    }
  </script>
</body>
</html>
